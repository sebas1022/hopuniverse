<div class="module module-category">
	<h3 class="module-title module-category-title">{{heading_title}}</h3>
	<ul>
		{% for category in categories %}
		<li {% if category.children %} class="hadchild" {% endif %}>
			<a href="{{ category.href }}" class="{% if (category.category_id == category_id) %}active{% endif %}"><span>{{ category.name }}</span></a>
			{% if category.children %}
			<span class="button-view {% if(category.category_id == category_id) %}ttopen{% else %}ttclose{% endif %}">view</span>
			<ul class="list-child" {% if(category.category_id == category_id) %} style="display: block; "{% else %} style="display: none;" {% endif %}>
				{% for child in category.children %}
				{% if(child.category_id == child_id) %}
				<li><a href="{{ child.href }}" class="active"><span>{{ child.name }}</span></a></li>
				{% else %}
				<li><a href="{{ child.href }}"s><span>{{ child.name }}</span></a></li>
				{% endif %}
				{% endfor %}
			</ul>
			{% endif %}
		</li>
		{% endfor %}
	</ul>
</div>
<script type="text/javascript">
	$(document).ready(function(){
		$('span.button-view').click(function() {
			if ($(this).hasClass('ttopen')) {varche = true} else {varche = false};
			if(varche == false){
				$(this).addClass("ttopen");
				$(this).removeClass("ttclose");
				$(this).parent().find('ul').slideDown();
				varche = true;
			} else 
			{	
				$(this).removeClass("ttopen");
				$(this).addClass("ttclose");
				$(this).parent().find('ul').slideUp();
				varche = false;
			}
		});
	});
</script>